# CMakeLists files in this project can
include_directories( ${CMAKE_CURRENT_SOURCE_DIR} )

## Find all source files to be compiled into object files
file(GLOB SRC_FILES *.cpp)
file(GLOB INC_FILES *.hpp *.h)

set(DEPENDENCY_LINKER_RELEASE_LIBS "")
set(DEPENDENCY_LINKER_DEBUG_LIBS "")
set(DEPENDENCY_INCLUDE_DIRS "")

if(WIN32)
	include("windows.cmake")
else()
	find_package(HDF5 COMPONENTS C CXX HL REQUIRED)
	list(APPEND DEPENDENCY_INCLUDE_DIRS ${HDF5_INCLUDE_DIRS})
	list(APPEND DEPENDENCY_LINKER_DEBUG_LIBS ${HDF5_LIBRARIES} ${HDF5_HL_LIBRARIES} ${HDF5_CXX_LIBRARIES})
endif(WIN32)

include_directories (${DEPENDENCY_INCLUDE_DIRS})

############################################
set(RAPIDJSON_INC ${PROJECT_SOURCE_DIR}/thirdparty/rapidjson)
include_directories (${RAPIDJSON_INC})
set(SOURCE ${SRC_FILES} ${INC_FILES})

##Excutable
add_executable(SeeDark ${COMMON_INC_FILES} ${COMMON_SRC_FILES} ${SOURCE} )

target_link_libraries(SeeDark debug ${DEPENDENCY_LINKER_DEBUG_LIBS} ${OpenCV_LIBS})	
target_link_libraries(SeeDark optimized ${DEPENDENCY_LINKER_RELEASE_LIBS} ${OpenCV_LIBS})


